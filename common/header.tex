\documentclass{beamer}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textpos}
\usepackage{tikz}
\usepackage{listings}
\usepackage{menukeys}
\usepackage[tikz]{mdframed}
\usepackage{courier}
\usepackage{amsmath}

\usetikzlibrary{shapes,arrows}

\usetheme{Madrid}
\usecolortheme{beaver}

% Custom changes:
\setbeamertemplate{footline}[frame number]{}
\definecolor{university_tuebingen}{RGB}{165,30,55}
\definecolor{matlab_input}{RGB}{200,255,200}
\definecolor{matlab_output}{RGB}{200,200,255}
\setbeamercolor{frametitle}{fg=university_tuebingen, bg=white}
\setbeamercolor{title}{fg=university_tuebingen}

\addtobeamertemplate{frametitle}{}{
\begin{tikzpicture}[remember picture, overlay]
\node[anchor=north east,yshift=-0.1cm] at (current page.north east)
{\includegraphics[width=3cm]{../common/logo_uni_tuebingen2.png}};
\end{tikzpicture}}

% Define flow diagramm options

\tikzstyle{decision} = [diamond, draw, fill=green!20, text width=3.5em, text badly centered, node distance=2.5cm, inner sep=0pt, font=\small]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, text width=3.5em, text centered, rounded corners, minimum height=4em, font=\small]
\tikzstyle{line} = [draw, -latex']


% Settings for Matlab syntax highlighting
% backgroundcolor=\color{yellow},
\lstset{numbers=left, %
        numberstyle=\tiny, %
        numberblanklines=false, %
        basicstyle=\small\ttfamily, %
        keywordstyle=\bfseries\color{green!40!black}, %
        breaklines=true, %
        commentstyle=\itshape\color{purple!40!black}, %
        identifierstyle=\color{red}, %
        language=Matlab, %
        backgroundcolor=\color{matlab_input}
        }


% Define highlighting for pseudocode
\lstdefinelanguage{pseudo}{morekeywords={WENN, DANN, SONST}, sensitive=true}

% Option for mdframed:
\newmdenv[backgroundcolor=yellow!30, roundcorner=5pt]{exercise}

% New command for title
\newcommand{\matlabTitle}[1]{\title{Einführung in Matlab\\{\scriptsize #1}}}

% New command for auto increment exercise:
\newcounter{mexercise}
\newcounter{mchapter}
\newcommand{\secMexercise}{\stepcounter{mexercise} \subsection{Übung \themchapter -\themexercise}}
\newcommand{\frameMexercise}{\frametitle{Übung \themchapter -\themexercise}}

% New command for in text Matlab listing:
\newcommand{\matlabInput}[1]{\colorbox{matlab_input}{\texttt{#1}}}
\newcommand{\matlabOutput}[1]{\colorbox{matlab_output}{\texttt{#1}}}

% New command for inserting only matlab code:
\newcommand{\insertMatlabOnlyCode}[2][firstline=1]{%
        \lstinputlisting[#1]{#2.m}%
}

% New command for inserting matlab code and output:
\newcommand{\insertMatlabCodeOutput}[1]{%
    \begin{columns}[t]%
      \begin{column}{5cm}%
        \lstinputlisting{#1.m}%
      \end{column}%
%
      \begin{column}{5cm}%
        \lstinputlisting[backgroundcolor=\color{matlab_output}]{#1.txt}%
      \end{column}%
    \end{columns}%
}

% New command for inserting matlab code and plot:
\newcommand{\insertMatlabCodePlot}[1]{%
    \begin{columns}[t]%
      \begin{column}{5cm}%
        \lstinputlisting{#1.m}%
      \end{column}%
%
      \begin{column}{5cm}%
        \includegraphics[width=5.0cm]{#1.png}
      \end{column}%
    \end{columns}%
}

% Configure hyperlinks
\hypersetup{colorlinks=true,urlcolor=blue}
\newcommand{\urlLink}[2]{\href{#1}{#2}}
\newcommand{\matlabLink}[1]{\urlLink{http://de.mathworks.com/help/matlab/ref/#1.html?searchHighlight=#1}{#1}}

\author{Prof. Dr. Olaf Cirpka, Prof. Dr. Christiane Zarfl, Dipl.-Inf. Willi Kappler}
%\date{\today}
\date{}
%\institute{Universität Tübingen}
\institute{}
